global:
  image:
    tag: v2.2.0 # x-release-please-version
    imagePullSecrets: # Used by all services including migration
  # Global data warehouse configuration
  dataWarehouse:
    # Data warehouse type configuration
    # Supported types: bigquery, mysql
    type: bigquery # Options: bigquery, mysql, postgres
    batchSize: 1000
    timezone: "UTC"
    # BigQuery configuration (used when type: bigquery)
    bigquery:
      project: ""
      dataset: ""
      location: ""
    # MySQL configuration (used when type: mysql)
    mysql:
      useMainConnection: true
      host: ""
      port: 3306
      user: ""
      password: ""
      database: ""
    # PostgreSQL configuration (used when type: postgres)
    postgres:
      host: ""
      port: 5432
      user: ""
      password: ""
      database: ""
  pubsub:
    # Type of pubsub to use: redis-stream or google
    type: ""
    # Redis configuration (used when type is redis-stream)
    redis:
      # Redis server name
      serverName: ""
      # Redis server address
      addr: ""
      # Connection pool size
      poolSize: 25
      # Minimum number of idle connections
      minIdle: 25
      # Redis stream partition count
      partitionCount: 16
      # Idle time in seconds for pending message reclaim
      idleTime: 600
    # PubSub emulator host (for local development)
    emulatorHost: ""
    # Google Cloud project ID
    project: ""
  # Global email configuration
  email:
    enabled: false
    provider: smtp
    smtp:
      host: smtp.gmail.com
      port: 587
      username: bucketeer@example.com
      password: ""
    sendgrid:
      apiKey: ""
    ses:
      region: ""
      accessKey: ""
      secretKey: ""
    mailersend:
      apiKey: ""
    sender:
      email: bucketeer@example.com
      name: Bucketeer
    baseURL: https://localhost
    templates:
      en:
        welcome:
          subject: "You've been invited to join Bucketeer"
          body: '<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="x-apple-disable-message-reformatting"><title>You''ve been invited to join Bucketeer</title></head><body style="margin:0;padding:0;background:#f5f5f5;color:#333;font-family:-apple-system,BlinkMacSystemFont,''Segoe UI'',Roboto,Helvetica,Arial,sans-serif;line-height:1.6;"><div style="display:none;overflow:hidden;line-height:1px;opacity:0;max-height:0;max-width:0;">Sign in with the authentication method configured for your account.</div><table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%"><tr><td align="center" style="padding:24px 12px;"><table role="presentation" cellspacing="0" cellpadding="0" border="0" width="600" style="width:100%;max-width:600px;background:#ffffff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.08);"><tr><td style="padding:32px;background:#ffffff;"><img src="{{webConsoleEndpoint}}/img/bucketeer-logo-primary.png" alt="Bucketeer" width="205" height="48" style="display:block;margin-bottom:24px;" /><p style="margin:0 0 16px 0;font-size:15px;color:#4b5563;">Hello, {{userEmail}}.</p><p style="margin:0 0 16px 0;font-size:15px;color:#4b5563;">You''ve been invited to join <strong>Bucketeer</strong>, a feature flag and A/B testing platform.</p><p style="margin:0 0 20px 0;font-size:15px;color:#4b5563;">Use the link below to access the Bucketeer console and sign in with the authentication method configured for your account.</p><table role="presentation" cellspacing="0" cellpadding="0" border="0" style="margin:0 0 20px 0;"><tr><td align="center"><a href="{{webConsoleEndpoint}}" style="background:#5B21B6;color:#ffffff;text-decoration:none;padding:14px 32px;border-radius:6px;display:inline-block;font-weight:600;font-size:15px;">Open Bucketeer Console</a></td></tr></table><p style="margin:0 0 8px 0;font-size:13px;color:#4b5563;">Or copy and paste this link into your browser:</p><table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="margin:0 0 24px 0;"><tr><td style="padding:12px 16px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:6px;word-break:break-all;font-size:13px;color:#4b5563;">{{webConsoleEndpoint}}</td></tr></table><p style="margin:16px 0 0 0;font-size:14px;color:#4b5563;">Bucketeer Team.</p></td></tr></table></td></tr></table></body></html>'
      ja:
        welcome:
          subject: "Bucketeerã¸ã®ã”æ‹›å¾…"
          body: '<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="x-apple-disable-message-reformatting"><title>Bucketeerã¸ã®ã”æ‹›å¾…</title></head><body style="margin:0;padding:0;background:#f5f5f5;color:#333;font-family:-apple-system,BlinkMacSystemFont,''Segoe UI'',Roboto,Helvetica,Arial,sans-serif;line-height:1.6;"><div style="display:none;overflow:hidden;line-height:1px;opacity:0;max-height:0;max-width:0;">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«è¨­å®šã•ã‚Œã¦ã„ã‚‹èªè¨¼æ–¹æ³•ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚</div><table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%"><tr><td align="center" style="padding:24px 12px;"><table role="presentation" cellspacing="0" cellpadding="0" border="0" width="600" style="width:100%;max-width:600px;background:#ffffff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.08);"><tr><td style="padding:32px;background:#ffffff;"><img src="{{webConsoleEndpoint}}/img/bucketeer-logo-primary.png" alt="Bucketeer" width="205" height="48" style="display:block;margin-bottom:24px;" /><p style="margin:0 0 16px 0;font-size:15px;color:#4b5563;">{{userEmail}} æ§˜ã€</p><p style="margin:0 0 16px 0;font-size:15px;color:#4b5563;">ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ãƒ©ã‚° & A/B ãƒ†ã‚¹ãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€Œ<strong>Bucketeer</strong>ã€ã¸ã®æ‹›å¾…ãŒå±Šã„ã¦ã„ã¾ã™ã€‚</p><p style="margin:0 0 20px 0;font-size:15px;color:#4b5563;">ä»¥ä¸‹ã®ãƒœã‚¿ãƒ³ã‚ˆã‚Šã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«è¨­å®šã•ã‚Œã¦ã„ã‚‹èªè¨¼æ–¹æ³•ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚</p><table role="presentation" cellspacing="0" cellpadding="0" border="0" style="margin:0 0 20px 0;"><tr><td align="center"><a href="{{webConsoleEndpoint}}" style="background:#5B21B6;color:#ffffff;text-decoration:none;padding:14px 32px;border-radius:6px;display:inline-block;font-weight:600;font-size:15px;">Bucketeer ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã</a></td></tr></table><p style="margin:0 0 8px 0;font-size:13px;color:#4b5563;">ã¾ãŸã¯ã€ã“ã®ãƒªãƒ³ã‚¯ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p><table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="margin:0 0 24px 0;"><tr><td style="padding:12px 16px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:6px;word-break:break-all;font-size:13px;color:#4b5563;">{{webConsoleEndpoint}}</td></tr></table><p style="margin:16px 0 0 0;font-size:14px;color:#4b5563;">Bucketeerãƒãƒ¼ãƒ </p></td></tr></table></td></tr></table></body></html>'

migration:
  image:
    repository: ghcr.io/bucketeer-io/bucketeer-migration
    tag: v2.2.0 # x-release-please-version
  # imagePullSecrets: []  # Optional: Override global.image.imagePullSecrets for migration only

  backoffLimit: 0
  ttlSecondsAfterFinished:

  # URL to access the DB to do the migration
  # E.g. mysql://user:password@host:port/db_name
  dbUrl:

  # The migration baseline
  # First revision
  dbBaseline: "20240626022133"

web:
  # Password authentication configuration
  passwordAuth:
    enabled: false
    passwordMinLength: 8
    passwordRequireUppercase: true
    passwordRequireLowercase: true
    passwordRequireNumbers: true
    passwordRequireSymbols: false
    passwordResetTokenTTL: "1h"
    emailServiceEnabled: false
    emailServiceConfig:
      provider: "smtp"  # Options: smtp, sendgrid, ses
      smtpHost: ""
      smtpPort: 587
      smtpUsername: ""
      smtpPassword: ""
      sendgridAPIKey: ""
      sesRegion: ""
      sesAccessKey: ""
      sesSecretKey: ""
      fromEmail: ""
      fromName: ""
      baseURL: ""
      templates:
        passwordReset:
          subject: "ğŸ” Reset Your Bucketeer Password"
          body: "<!DOCTYPE html><html><head><meta charset=\"utf-8\"><style>body{font-family:Arial,sans-serif;color:#333}.container{max-width:600px;margin:0 auto;padding:20px}.button{display:inline-block;padding:12px 24px;background:#007bff;color:white;text-decoration:none;border-radius:5px}</style></head><body><div class=\"container\"><h1>Reset Your Bucketeer Password</h1><p>Hello,</p><p>We received a request to reset your Bucketeer password. Click the button below to reset your password:</p><p style=\"text-align:center;margin:30px 0\"><a href=\"{{resetURL}}\" class=\"button\">Reset Password</a></p><p><strong>Security Note:</strong> This link will expire in 1 hour. If you didn't request this, please ignore this email.</p></div></body></html>"
        passwordChanged:
          subject: "âœ… Password Changed Successfully"
          body: "<!DOCTYPE html><html><head><meta charset=\"utf-8\"><style>body{font-family:Arial,sans-serif;color:#333}.container{max-width:600px;margin:0 auto;padding:20px}.alert{background:#fff3cd;padding:15px;border-radius:5px;margin:20px 0}</style></head><body><div class=\"container\"><h1>âœ… Password Changed Successfully</h1><p>Hello,</p><p>This email confirms that your Bucketeer password has been successfully changed.</p><div class=\"alert\"><strong>Security Notice:</strong> If you did not make this change, please contact your system administrator immediately.</div><p>Thank you for keeping your account secure.</p></div></body></html>"
        welcome:
          subject: "ğŸ‰ Welcome to Bucketeer!"
          body: "<!DOCTYPE html><html><head><meta charset=\"utf-8\"><style>body{font-family:Arial,sans-serif;color:#333}.container{max-width:600px;margin:0 auto;padding:20px}.temp-password{background:#f8f9fa;padding:15px;border-radius:5px;font-family:monospace}.warning{background:#f8d7da;padding:15px;border-radius:5px;margin:20px 0;color:#721c24}</style></head><body><div class=\"container\"><h1>Welcome to Bucketeer!</h1><p>Hello,</p><p>Your Bucketeer account has been created. Here's your temporary password:</p><div class=\"temp-password\">{{tempPassword}}</div><div class=\"warning\"><strong>Important:</strong> Please change this password immediately after your first login.</div><p>You can sign in at: {{baseURL}}</p><p>Welcome to the team!</p></div></body></html>"
